<!DOCTYPE html>
<html>
<head>
<title> Project - Group 6: The Grand Exchange </title>
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div class="header">
<h1>The Grand Exchange</h1>
</div>

<div class="row">
  <div class="col-3 col-s-3 menu">
    <ul>
      <li><a href='index.html'> Home </a> </li>
      <li><a href='about.html'> About </a> </li>
      <li><a href='contact.html'> Contact </a> </li>
      <li><a href='login.html'> User Login </a> </li>
      <li><a href='listings.html'> Listings </a> </li>
    </ul>
  </div>
  
  <script>
        // define the callAPI function that takes a first name and last name as parameters
        var callAPI = (firstName,lastName)=>{
            // instantiate a headers object
            var myHeaders = new Headers();
            // add content type header to object
            myHeaders.append("Content-Type", "application/json");
            // using built in JSON utility package turn object to string and store in a variable
            var raw = JSON.stringify({"firstName":firstName,"lastName":lastName});
            // create a JSON object with parameters for API call and store in a variable
            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            // make API call with parameters and use promises to get response
            fetch("https://tvjjxdowu0.execute-api.us-east-1.amazonaws.com/dev", requestOptions)
            .then(response => response.text())
            .then(result => alert(JSON.parse(result).body))
            .catch(error => console.log('error', error));
        }
  </script>

  <div class="col-6 col-s-9">
    <h1> New Account </h1>
     <form>
     <table>
     <tr>
        <td><label> First Name: </label></td><td> <input type="text" id="username"></td> 
     </tr>
     <tr>
        <td><label> Last Name: </label></td><td> <input type="password" id="password"></td>
     </tr>
     <tr>
        <td>&nbsp;</td><td> <input type="checkbox" onclick="ShowPassword()">Show Password</td>
     </tr>
        <!-- set button onClick method to call the function you want to handle this! -->
     <tr>
        <td><button type="button" onclick="callAPI(document.getElementById('username').value, document.getElementById('password').value)"> Create </button></td><td>&nbsp;</td>   
     </tr>
     </form>
  </table>

  </div>

  <div class="col-3 col-s-12">
    <div class="aside">
      <h2>What?</h2>
      <p>Explain the project you are you trying to build.</p>
      <h2>Why?</h2>
      <p>Explain the reason of your interest in this work.</p>
      <h2>How?</h2>
      <p>Explain your plans for the project.</p>
    </div>
  </div>
</div>

<div class="footer">
  <p> The provided CSS responds to different window sizes and device sizes. While you are not required to work on the asthetics of your project for grade, you may want to improve it if you are trying to build a real web system. </p>
</div>
<script>
function ShowPassword() {
  var x = document.getElementById("password");
  if (x.type === "password") {
    x.type = "text";
  } else {
    x.type = "password";
  }
} 
</script>

</body>
</html>
